<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OpenPront | Acesso</title>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
/* Estilos mantidos (apenas pequenas otimizações) */
body {
    margin: 0;
    height: 100vh;
    display: flex;
    font-family: 'Inter', sans-serif;
    overflow: hidden;
}

/* Lado da imagem */
.side-image {
    flex: 1;
    background: url('https://source.unsplash.com/1600x900/?health,technology,abstract') center/cover no-repeat;
    position: relative;
}
.side-image::before {
    content: '';
    position: absolute;
    inset: 0;
    background: rgba(0, 123, 255, 0.4);
}
.side-image .overlay {
    position: relative;
    z-index: 2;
    color: #fff;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 2rem;
}
.overlay h1 { font-size: 3rem; font-weight: 700; margin-bottom: 1rem; text-shadow: 0 2px 5px rgba(0,0,0,0.3);}
.overlay p { font-size: 1.2rem; max-width: 400px; line-height: 1.5; opacity: 0.9; }

/* Lado do login */
.login-side {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    background: #fff;
    position: relative;
    overflow: hidden;
}

/* Área animada do formulário */
.forms-container {
    position: relative;
    width: 100%;
    max-width: 380px;
    display: flex;
    align-items: center;
    min-height: 400px;
}

/* Tela de login e recuperação */
.form-panel {
    position: absolute;
    width: 100%;
    top: 50%;
    transform: translateY(-50%);
    transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out;
}

.form-panel.hidden-left { transform: translate(-100%, -50%); opacity: 0; }
.form-panel.hidden-right { transform: translate(100%, -50%); opacity: 0; }
.form-panel.visible { transform: translate(0, -50%); opacity: 1; }

h2 { font-weight: 700; margin-bottom: 1.5rem; text-align: center; }
.form-control { height: 50px; border-radius: 8px; padding-left: 2.8rem; }
.form-group { position: relative; margin-bottom: 1.2rem; }
.form-group .bi { position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: #6c757d; }

/* Botões com novo estilo */
.btn-auth {
    width: 100%;
    padding: 0.9rem;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    font-size: 1rem;
    transition: all 0.2s;
    margin-bottom: 0.75rem; /* Espaçamento entre botões */
}

/* Estilo para Login Google */
.btn-google {
    background: #fff;
    color: #444;
    border: 1px solid #ccc;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}
.btn-google:hover {
    background: #f1f1f1;
    border-color: #aaa;
    transform: translateY(-2px);
}
.google-icon {
    width: 90px;
    height: 30px;
    margin-right: 10px;
    vertical-align: middle;
}

/* Estilo para Login Padrão/Recuperação */
.btn-primary-auth {
    background: #007bff;
    color: #fff;
}
.btn-primary-auth:hover {
    background: #0056b3;
    transform: translateY(-2px);
}

.text-secondary a { color: #007bff; text-decoration: none; cursor: pointer; }
.text-secondary a:hover { text-decoration: underline; }

/* Separador "Ou" */
.separator {
    display: flex;
    align-items: center;
    text-align: center;
    margin: 1.5rem 0;
    color: #aaa;
}
.separator::before,
.separator::after {
    content: '';
    flex: 1;
    border-bottom: 1px solid #ddd;
}
.separator:not(:empty)::before {
    margin-right: .25em;
}
.separator:not(:empty)::after {
    margin-left: .25em;
}

@media (max-width: 992px) {
    body { flex-direction: column; }
    .side-image { height: 35vh; flex: none; }
    .login-side { height: 65vh; padding: 2rem; }
}
</style>
</head>

<body>
<div class="side-image">
    <div class="overlay">
        <h1>OpenPront</h1>
        <p>Gestão clínica inteligente e ágil. Organize, atenda e evolua com tecnologia.</p>
    </div>
</div>

<div class="login-side">
    <div class="forms-container">
        <div class="form-panel visible" id="loginPanel">
            <h2>Acesso ao Sistema</h2>
            
            <button class="btn-auth btn-google" onclick="window.location.href='/auth/google'">
                <img src="https://upload.wikimedia.org/wikipedia/commons/4/4a/Logo_2013_Google.png" alt="Google" class="google-icon">
                Entrar com Google
            </button>

            <div class="separator small">Ou</div>

            <form action="/login" method="POST">

                <div class="form-group">
                    <i class="bi bi-envelope-fill"></i>
                    <input type="email" class="form-control" name="email" placeholder="E-mail profissional" required>
                </div>

                <div class="form-group">
                    <i class="bi bi-lock-fill"></i>
                    <input type="password" class="form-control" name="senha" placeholder="Senha de acesso" required>
                </div>

                <button type="submit" class="btn-auth btn-primary-auth"> 
                    <i class="bi bi-box-arrow-in-right me-1"></i> Entrar 
                </button>
            </form>
            <p class="text-secondary small mt-4 text-center">Esqueceu sua senha? <a id="showRecover">Recuperar acesso</a></p>
        </div>

        <div class="form-panel hidden-right" id="recoverPanel">
            <form action="/recover" method="POST">
                <h2>Recuperar Senha</h2>

                <div class="form-group">
                    <i class="bi bi-envelope-fill"></i>
                    <input type="email" class="form-control" name="recoverEmail" placeholder="Informe seu e-mail" required>
                </div>

                <button type="submit" class="btn-auth btn-primary-auth">Enviar link</button>
            </form>
            
            <p class="text-secondary small mt-4 text-center">Voltar para <a id="backLogin">Login</a></p>
        </div>
    </div>
</div>

<script>
const loginPanel = document.getElementById('loginPanel');
const recoverPanel = document.getElementById('recoverPanel');

document.getElementById('showRecover').addEventListener('click', (e) => {
    e.preventDefault(); 
    loginPanel.classList.add('hidden-left');
    loginPanel.classList.remove('visible');
    recoverPanel.classList.add('visible');
    recoverPanel.classList.remove('hidden-right');
});

document.getElementById('backLogin').addEventListener('click', (e) => {
    e.preventDefault(); 
    recoverPanel.classList.add('hidden-right');
    recoverPanel.classList.remove('visible');
    loginPanel.classList.add('visible');
    loginPanel.classList.remove('hidden-left');
});
</script>
</body>
</html>